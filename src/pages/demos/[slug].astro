---
import BaseLayout from "../../layouts/BaseLayout.astro";

export const prerender = true;

export function getStaticPaths() {
  return [{ params: { slug: "piano-tuning" } }];
}

const { slug } = Astro.params;

const demos = {
  "piano-tuning": {
    title: "Piano Tuning Analysis",
    src: "/demos/piano_tuning_analysis/piano_tuning.html",
  },
};

const demo = demos[slug];
---

<BaseLayout
  title={demo.title}
  description={`Demo: ${demo.title}`}
  permalink={`/demos/${slug}`}
>
  <div class="demo-header">
    <h1>{demo.title}</h1>
    <a href="/demos" class="back-link">&larr; Back to Demos</a>
  </div>
  <div class="demo-container">
    <iframe src={demo.src} title={demo.title}></iframe>
  </div>
</BaseLayout>

<style>
  .demo-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
  }
  .demo-header h1 {
    margin: 0;
    font-size: 1.5rem;
  }
  .back-link {
    font-size: 0.9rem;
  }
  .demo-container {
    width: 100%;
    height: 85vh;
    border: 1px solid #ddd;
    border-radius: 8px;
    overflow: hidden;
    background: white;
  }
  iframe {
    width: 100%;
    height: 100%;
    border: none;
  }
</style>
